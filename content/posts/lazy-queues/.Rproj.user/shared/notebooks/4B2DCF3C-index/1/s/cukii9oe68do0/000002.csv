"0","enqueue <- function(queue, x) {"
"0","  cases(queue,"
"0","        QUEUE(0, LLNIL, 0, LLNIL) -> "
"0","          QUEUE(1, lazy_cons(x, LLNIL), 0, LLNIL),"
"0","        QUEUE(front_len, front, back_len, back) -> {"
"0","          if (back_len < front_len)"
"0","            QUEUE(front_len, front, back_len + 1, lazy_cons(x, back))"
"0","          else"
"0","            QUEUE(front_len + back_len, "
"0","                  lazy_concat(front, lazy_reverse(back)),"
"0","                  1, "
"0","                  lazy_cons(x, LLNIL))"
"0","        })"
"0","}"
